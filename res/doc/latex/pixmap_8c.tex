\doxysection{/home/neil/devel/projects/libimc/src/pixmap.c File Reference}
\hypertarget{pixmap_8c}{}\label{pixmap_8c}\index{/home/neil/devel/projects/libimc/src/pixmap.c@{/home/neil/devel/projects/libimc/src/pixmap.c}}


Provides public-\/facing APIs for interacting with Pixmap\+\_\+t objects.  


{\ttfamily \#include "{}pixmap.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{pixmap_8c_ab5c5883df97a92d1a7d6c4231cde7aba}\label{pixmap_8c_ab5c5883df97a92d1a7d6c4231cde7aba} 
static Imc\+Error\+\_\+t {\bfseries \+\_\+imc\+\_\+pixmap\+\_\+downscale\+\_\+width} (Pixmap\+\_\+t \texorpdfstring{$\ast$}{*}pixmap, const size\+\_\+t width)
\item 
\Hypertarget{pixmap_8c_a184b133c53e3d9effc04b89de122ada9}\label{pixmap_8c_a184b133c53e3d9effc04b89de122ada9} 
static Imc\+Error\+\_\+t {\bfseries \+\_\+imc\+\_\+pixmap\+\_\+upscale\+\_\+width} (Pixmap\+\_\+t \texorpdfstring{$\ast$}{*}pixmap, const size\+\_\+t width, const Scale\+Method\+\_\+t sm)
\item 
\Hypertarget{pixmap_8c_a978d526addf7ca4f21867d362befce9d}\label{pixmap_8c_a978d526addf7ca4f21867d362befce9d} 
static Imc\+Error\+\_\+t {\bfseries \+\_\+imc\+\_\+pixmap\+\_\+downscale\+\_\+height} (Pixmap\+\_\+t \texorpdfstring{$\ast$}{*}pixmap, const size\+\_\+t height)
\item 
\Hypertarget{pixmap_8c_a11632c7a2701dc689f06bd742c43e203}\label{pixmap_8c_a11632c7a2701dc689f06bd742c43e203} 
static Imc\+Error\+\_\+t {\bfseries \+\_\+imc\+\_\+pixmap\+\_\+upscale\+\_\+height} (Pixmap\+\_\+t \texorpdfstring{$\ast$}{*}pixmap, const size\+\_\+t height, const Scale\+Method\+\_\+t sm)
\item 
Rgb\+\_\+t \mbox{\hyperlink{pixmap_8c_ac4e323caf5007b030d0c01a5a9bf676c}{imc\+\_\+blend\+\_\+alpha}} (const Rgb\+\_\+t fg\+\_\+col, const Rgb\+\_\+t bg\+\_\+col, const float alpha)
\begin{DoxyCompactList}\small\item\em Blends {\bfseries{fg\+\_\+col}} with {\bfseries{bg\+\_\+col}} accounting for the opacity given by {\bfseries{alpha}}. \end{DoxyCompactList}\item 
Rgba\+\_\+t \mbox{\hyperlink{pixmap_8c_a8ac2bcd3e37c82020daa0a12f8ef466d}{imc\+\_\+pixmap\+\_\+sample}} (Pixmap\+\_\+t \texorpdfstring{$\ast$}{*}pixmap, const float x, const float y)
\begin{DoxyCompactList}\small\item\em Returns the RGB value of the pixel specified by the normalized x and y values. \end{DoxyCompactList}\item 
Imc\+Error\+\_\+t \mbox{\hyperlink{pixmap_8c_a1422e9065d08e4b991dd8f1d410e227a}{imc\+\_\+pixmap\+\_\+scale}} (Pixmap\+\_\+t \texorpdfstring{$\ast$}{*}pixmap, const size\+\_\+t width, const size\+\_\+t height, const Scale\+Method\+\_\+t sm)
\begin{DoxyCompactList}\small\item\em Scales an image contained in pixmap to the new size specified by "{}width"{} and "{}height"{}. \end{DoxyCompactList}\item 
Imc\+Error\+\_\+t \mbox{\hyperlink{pixmap_8c_a9ebd909a2acb4f54485e157694c512c2}{imc\+\_\+pixmap\+\_\+to\+\_\+grayscale}} (Pixmap\+\_\+t \texorpdfstring{$\ast$}{*}pixmap)
\begin{DoxyCompactList}\small\item\em Converts the image stored in pixmap to grayscale. \end{DoxyCompactList}\item 
Imc\+Error\+\_\+t \mbox{\hyperlink{pixmap_8c_a2070473e896fad102941b4418cd6b354}{imc\+\_\+pixmap\+\_\+to\+\_\+monochrome}} (Pixmap\+\_\+t \texorpdfstring{$\ast$}{*}pixmap, const float luma\+\_\+threshold)
\begin{DoxyCompactList}\small\item\em Transforms the image stored in pixmap to be monochrome according the the value of "{}luma\+\_\+threshold"{}. \end{DoxyCompactList}\item 
Imc\+Error\+\_\+t \mbox{\hyperlink{pixmap_8c_aecd37cf576848faab760056e0fd3897c}{imc\+\_\+pixmap\+\_\+to\+\_\+ascii}} (Pixmap\+\_\+t \texorpdfstring{$\ast$}{*}pixmap, const char \texorpdfstring{$\ast$}{*}const fname)
\begin{DoxyCompactList}\small\item\em Outputs pixmap image as ASCII art to the file specified by "{}fname"{}. \end{DoxyCompactList}\item 
Imc\+Error\+\_\+t \mbox{\hyperlink{pixmap_8c_a03d935762e8f2c53fbe32ce53301eb9a}{imc\+\_\+pixmap\+\_\+to\+\_\+ppm}} (Pixmap\+\_\+t \texorpdfstring{$\ast$}{*}pixmap, const char \texorpdfstring{$\ast$}{*}const fname, const Rgb\+\_\+t bg\+\_\+col)
\begin{DoxyCompactList}\small\item\em Writes the image data in pixmap in PPM format (PPM does not support the alpha channel). \end{DoxyCompactList}\item 
\Hypertarget{pixmap_8c_a407d31e0cc7d8bba8a9ca6977b24164c}\label{pixmap_8c_a407d31e0cc7d8bba8a9ca6977b24164c} 
Imc\+Error\+\_\+t {\bfseries imc\+\_\+pixmap\+\_\+rotate\+\_\+cw} (Pixmap\+\_\+t \texorpdfstring{$\ast$}{*}pixmap)
\item 
\Hypertarget{pixmap_8c_a874d1836966741c3092d6bf3e59843e2}\label{pixmap_8c_a874d1836966741c3092d6bf3e59843e2} 
Imc\+Error\+\_\+t {\bfseries imc\+\_\+pixmap\+\_\+rotate\+\_\+ccw} (Pixmap\+\_\+t \texorpdfstring{$\ast$}{*}pixmap)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Provides public-\/facing APIs for interacting with Pixmap\+\_\+t objects. 

\begin{DoxyAuthor}{Author}
Neil Kingdom 
\end{DoxyAuthor}
\begin{DoxySince}{Since}
17-\/09-\/2024 
\end{DoxySince}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}


\doxysubsection{Function Documentation}
\Hypertarget{pixmap_8c_ac4e323caf5007b030d0c01a5a9bf676c}\index{pixmap.c@{pixmap.c}!imc\_blend\_alpha@{imc\_blend\_alpha}}
\index{imc\_blend\_alpha@{imc\_blend\_alpha}!pixmap.c@{pixmap.c}}
\doxysubsubsection{\texorpdfstring{imc\_blend\_alpha()}{imc\_blend\_alpha()}}
{\footnotesize\ttfamily \label{pixmap_8c_ac4e323caf5007b030d0c01a5a9bf676c} 
Rgb\+\_\+t imc\+\_\+blend\+\_\+alpha (\begin{DoxyParamCaption}\item[{const Rgb\+\_\+t}]{fg\+\_\+col}{, }\item[{const Rgb\+\_\+t}]{bg\+\_\+col}{, }\item[{const float}]{alpha}{}\end{DoxyParamCaption})}



Blends {\bfseries{fg\+\_\+col}} with {\bfseries{bg\+\_\+col}} accounting for the opacity given by {\bfseries{alpha}}. 

\begin{DoxySince}{Since}
15-\/01-\/2024 
\end{DoxySince}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fg\+\_\+col} & The foreground pixel\textquotesingle{}s color \\
\hline
\mbox{\texttt{ in}}  & {\em bg\+\_\+col} & The background pixel\textquotesingle{}s color \\
\hline
\mbox{\texttt{ in}}  & {\em alpha} & The opacity/alpha value that will be factored when blending \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A new Rgb\+\_\+t containing the blended rgb pixel value 
\end{DoxyReturn}
\Hypertarget{pixmap_8c_a8ac2bcd3e37c82020daa0a12f8ef466d}\index{pixmap.c@{pixmap.c}!imc\_pixmap\_sample@{imc\_pixmap\_sample}}
\index{imc\_pixmap\_sample@{imc\_pixmap\_sample}!pixmap.c@{pixmap.c}}
\doxysubsubsection{\texorpdfstring{imc\_pixmap\_sample()}{imc\_pixmap\_sample()}}
{\footnotesize\ttfamily \label{pixmap_8c_a8ac2bcd3e37c82020daa0a12f8ef466d} 
Rgba\+\_\+t imc\+\_\+pixmap\+\_\+sample (\begin{DoxyParamCaption}\item[{Pixmap\+\_\+t \texorpdfstring{$\ast$}{*}}]{pixmap}{, }\item[{const float}]{x}{, }\item[{const float}]{y}{}\end{DoxyParamCaption})}



Returns the RGB value of the pixel specified by the normalized x and y values. 

\begin{DoxyWarning}{Warning}
If x or y lie outside of the specified bounds (0.\+0f-\/1.\+0f) they will be clamped 
\end{DoxyWarning}
\begin{DoxySince}{Since}
15-\/01-\/2024 
\end{DoxySince}

\begin{DoxyParams}{Parameters}
{\em pixmap} & The pixmap that will be sampled \\
\hline
{\em x} & A normalized floating point value between 0.\+0f and 1.\+0f representing the x sampling component \\
\hline
{\em y} & A normalized floating point value between 0.\+0f and 1.\+0f representing the y sampling component \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An Rgba\+\_\+t struct containing the sampled pixel color value 
\end{DoxyReturn}
\Hypertarget{pixmap_8c_a1422e9065d08e4b991dd8f1d410e227a}\index{pixmap.c@{pixmap.c}!imc\_pixmap\_scale@{imc\_pixmap\_scale}}
\index{imc\_pixmap\_scale@{imc\_pixmap\_scale}!pixmap.c@{pixmap.c}}
\doxysubsubsection{\texorpdfstring{imc\_pixmap\_scale()}{imc\_pixmap\_scale()}}
{\footnotesize\ttfamily \label{pixmap_8c_a1422e9065d08e4b991dd8f1d410e227a} 
Imc\+Error\+\_\+t imc\+\_\+pixmap\+\_\+scale (\begin{DoxyParamCaption}\item[{Pixmap\+\_\+t \texorpdfstring{$\ast$}{*}}]{pixmap}{, }\item[{const size\+\_\+t}]{width}{, }\item[{const size\+\_\+t}]{height}{, }\item[{const Scale\+Method\+\_\+t}]{sm}{}\end{DoxyParamCaption})}



Scales an image contained in pixmap to the new size specified by "{}width"{} and "{}height"{}. 

\begin{DoxySince}{Since}
21-\/07-\/2024 
\end{DoxySince}

\begin{DoxyParams}{Parameters}
{\em pixmap} & The pixmap that shall be resized to match "{}width"{} and "{}height"{} \\
\hline
{\em width} & The new width that pixmap shall be scaled to \\
\hline
{\em height} & The new height that pixmap shall be scaled to \\
\hline
{\em sm} & The scaling method (only used when upscaling) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An Imc\+Error\+\_\+t representing the exit status code 
\end{DoxyReturn}
\Hypertarget{pixmap_8c_aecd37cf576848faab760056e0fd3897c}\index{pixmap.c@{pixmap.c}!imc\_pixmap\_to\_ascii@{imc\_pixmap\_to\_ascii}}
\index{imc\_pixmap\_to\_ascii@{imc\_pixmap\_to\_ascii}!pixmap.c@{pixmap.c}}
\doxysubsubsection{\texorpdfstring{imc\_pixmap\_to\_ascii()}{imc\_pixmap\_to\_ascii()}}
{\footnotesize\ttfamily \label{pixmap_8c_aecd37cf576848faab760056e0fd3897c} 
Imc\+Error\+\_\+t imc\+\_\+pixmap\+\_\+to\+\_\+ascii (\begin{DoxyParamCaption}\item[{Pixmap\+\_\+t \texorpdfstring{$\ast$}{*}}]{pixmap}{, }\item[{const char \texorpdfstring{$\ast$}{*}const}]{fname}{}\end{DoxyParamCaption})}



Outputs pixmap image as ASCII art to the file specified by "{}fname"{}. 

In order to use this function, it is advised that you first make your font as small as possible. To get the number of columns/rows of your terminal, use tput lines and tput cols. Run cat $<$fname$>$ to print the contents to the TTY. \begin{DoxyWarning}{Warning}
Results will vary depending upon whether you\textquotesingle{}re using RGB or RGBA. This is because RGB uses the color channels to determine luma, whereas, RGBA uses the alpha channel. RGBA cannot use the color channels since that would make this function incompatible with \doxylink{pixmap_8c_a9ebd909a2acb4f54485e157694c512c2}{imc\+\_\+pixmap\+\_\+to\+\_\+grayscale()} or \doxylink{pixmap_8c_a2070473e896fad102941b4418cd6b354}{imc\+\_\+pixmap\+\_\+to\+\_\+monochrome()}, which strips the color data. 
\end{DoxyWarning}
\begin{DoxySince}{Since}
21-\/07-\/2024 
\end{DoxySince}

\begin{DoxyParams}{Parameters}
{\em pixmap} & A Pixmap\+\_\+t containing the image that shall be converted into ASCII art \\
\hline
{\em fname} & The name of the file that the ASCII art shall be output to \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An Imc\+Error\+\_\+t representing the exit status code 
\end{DoxyReturn}
\Hypertarget{pixmap_8c_a9ebd909a2acb4f54485e157694c512c2}\index{pixmap.c@{pixmap.c}!imc\_pixmap\_to\_grayscale@{imc\_pixmap\_to\_grayscale}}
\index{imc\_pixmap\_to\_grayscale@{imc\_pixmap\_to\_grayscale}!pixmap.c@{pixmap.c}}
\doxysubsubsection{\texorpdfstring{imc\_pixmap\_to\_grayscale()}{imc\_pixmap\_to\_grayscale()}}
{\footnotesize\ttfamily \label{pixmap_8c_a9ebd909a2acb4f54485e157694c512c2} 
Imc\+Error\+\_\+t imc\+\_\+pixmap\+\_\+to\+\_\+grayscale (\begin{DoxyParamCaption}\item[{Pixmap\+\_\+t \texorpdfstring{$\ast$}{*}}]{pixmap}{}\end{DoxyParamCaption})}



Converts the image stored in pixmap to grayscale. 

\begin{DoxySince}{Since}
21-\/07-\/2024 
\end{DoxySince}

\begin{DoxyParams}{Parameters}
{\em pixmap} & The pixmap that shall be converted to grayscale \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An Imc\+Error\+\_\+t representing the exit status code 
\end{DoxyReturn}
\Hypertarget{pixmap_8c_a2070473e896fad102941b4418cd6b354}\index{pixmap.c@{pixmap.c}!imc\_pixmap\_to\_monochrome@{imc\_pixmap\_to\_monochrome}}
\index{imc\_pixmap\_to\_monochrome@{imc\_pixmap\_to\_monochrome}!pixmap.c@{pixmap.c}}
\doxysubsubsection{\texorpdfstring{imc\_pixmap\_to\_monochrome()}{imc\_pixmap\_to\_monochrome()}}
{\footnotesize\ttfamily \label{pixmap_8c_a2070473e896fad102941b4418cd6b354} 
Imc\+Error\+\_\+t imc\+\_\+pixmap\+\_\+to\+\_\+monochrome (\begin{DoxyParamCaption}\item[{Pixmap\+\_\+t \texorpdfstring{$\ast$}{*}}]{pixmap}{, }\item[{const float}]{luma\+\_\+threshold}{}\end{DoxyParamCaption})}



Transforms the image stored in pixmap to be monochrome according the the value of "{}luma\+\_\+threshold"{}. 

\begin{DoxySince}{Since}
21-\/07-\/2024 
\end{DoxySince}

\begin{DoxyParams}{Parameters}
{\em pixmap} & The pixmap to be converted to monochrome \\
\hline
{\em luma\+\_\+threshold} & A normalized threshold between 0.\+0f-\/1.\+0f representing the cutoff between black and white \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An Imc\+Error\+\_\+t representing the exit status code 
\end{DoxyReturn}
\Hypertarget{pixmap_8c_a03d935762e8f2c53fbe32ce53301eb9a}\index{pixmap.c@{pixmap.c}!imc\_pixmap\_to\_ppm@{imc\_pixmap\_to\_ppm}}
\index{imc\_pixmap\_to\_ppm@{imc\_pixmap\_to\_ppm}!pixmap.c@{pixmap.c}}
\doxysubsubsection{\texorpdfstring{imc\_pixmap\_to\_ppm()}{imc\_pixmap\_to\_ppm()}}
{\footnotesize\ttfamily \label{pixmap_8c_a03d935762e8f2c53fbe32ce53301eb9a} 
Imc\+Error\+\_\+t imc\+\_\+pixmap\+\_\+to\+\_\+ppm (\begin{DoxyParamCaption}\item[{Pixmap\+\_\+t \texorpdfstring{$\ast$}{*}}]{pixmap}{, }\item[{const char \texorpdfstring{$\ast$}{*}const}]{fname}{, }\item[{const Rgb\+\_\+t}]{bg\+\_\+col}{}\end{DoxyParamCaption})}



Writes the image data in pixmap in PPM format (PPM does not support the alpha channel). 

\begin{DoxySince}{Since}
15-\/01-\/2024 
\end{DoxySince}

\begin{DoxyParams}{Parameters}
{\em pixmap} & A pixmap\+\_\+t struct containing the data to be written to the PPM file \\
\hline
{\em fname} & The name of the output file \\
\hline
{\em bg\+\_\+col} & The background color to be blended in the case that pixbuf contains alpha data \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An Imc\+Error\+\_\+t representing the exit status code 
\end{DoxyReturn}
